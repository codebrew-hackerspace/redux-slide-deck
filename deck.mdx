import { Head, Image } from 'mdx-deck'
export { default as theme } from './theme'

# Redux


state management for react
---

# Initial State

Let's say you have an peach. You initial state of the peach is
```javascript
const initialPeach = {
  dirty: true, 
  remainingBites: 5, 
  color: 'orange',
};

```

---
# Actions
You can do things to the peach with actions, so we want to define the actions. 

```javascript
const WASH = {type: 'WASH'};
const EAT = {type: 'EAT', bites: 2};
const ROT = {type: 'ROT'};
```
---
# Reducers

When an action is dispacthed, the reducer is called. 

The reducer gets the previous state and the action, and the reducer function defines how to create the new state

```javascript 
function peachReducer(state = initialPeach, action) {
  switch(action.type) {
    case 'WASH':
      return {...state, dirty: false};
    case 'EAT':
      return {
        ...state,
        remainingBites: Math.max(0, state.remainingBites - action.bites)
      };
    case 'ROT':
      return {...state, color: 'brown'};
    default:
      return state;
  }
}

```

---


# Store

We also want to put this into a universal store. 
```javascript 

const store = Redux.createStore(peachReducer, initialPeach);
```

And we can use ```store.getState()```  to get a json object with the stat eof the current object. 


```javascript
function handleChange() {
  const currentPeachState = store.getState();
  if (currentPeachState.color === 'orange') {
    console.log("Let's eat it");
  } else {
    console.log("Let's throw it out");
  }
}
store.subscribe(handleChange);
```

---

# Why is it important?

Pure Functions

Isolate State changes

---
